(this["webpackJsonpmy-weather-app"]=this["webpackJsonpmy-weather-app"]||[]).push([[0],{45:function(e,t,a){e.exports=a(57)},50:function(e,t,a){},51:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),o=(a(50),a(51),a(22)),l=a(10),m=a(72),u=a(74),s=function(e){var t=e.errorMessage;return r.a.createElement(m.a,{raised:!0},r.a.createElement(u.a,{subheader:t}))},E=a(75),d=a(83),p=a(77),f=function(){return r.a.createElement(E.a,{position:"static"},r.a.createElement(d.a,{value:!1},r.a.createElement(p.a,{label:"Weather",component:o.b,to:"/weather"}),r.a.createElement(p.a,{label:"Forecast",component:o.b,to:"/forecast"})))},h=a(18),g=a(80),b=a(82),v=a(79),w=a(38),j="95c3dbda29852d8d2d2de3dec7b3d340",y="https://api.openweathermap.org/data/2.5/weather",O="https://api.openweathermap.org/data/2.5/forecast",x="https://openweathermap.org/img/wn",k=function(e,t){var a=Object(n.useState)(!1),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(),m=Object(l.a)(o,2),u=m[0],s=m[1],E=Object(n.useState)(),d=Object(l.a)(E,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){i(!0),fetch(e).then((function(e){if(i(!1),!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return s(e)})).catch((function(e){return f(e)}))}),[e,t]),[c,u,p]},M=Object(n.createContext)(null),S=a(78),C=function(){var e=Object(n.useContext)(M),t=e.isMetric,a=e.setIsMetric;return r.a.createElement(S.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return a(!t)}},t?"Fahrenheit":"Celsius")},F=a(27),I=function(e,t){return t?Math.round(P(e))+"\xb0C":Math.round(e)+"\xb0F"},P=function(e){return 5/9*(e-32)},L=function(e){var t=Object(n.useContext)(M).isMetric;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{item:!0},r.a.createElement(F.a,{variant:"subtitle2"},e.date&&new Date(e.date).toString().slice(0,10))),r.a.createElement(v.a,{item:!0},r.a.createElement(F.a,{variant:"h4"},I(e.temp,t))),r.a.createElement(v.a,{item:!0},r.a.createElement(F.a,{variant:"subtitle1",color:"textSecondary"},"Real Feel: ",I(e.feelsLike,t))),r.a.createElement(v.a,{item:!0},r.a.createElement(F.a,{variant:"subtitle2",color:"textSecondary"},e.condition)),r.a.createElement(v.a,{item:!0},r.a.createElement("img",{src:"".concat(x,"/").concat(e.icon,"@2x.png"),alt:"weather-icon"})))},_=a(84),W=function(e){var t=e.city;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{item:!0},r.a.createElement(v.a,{container:!0,spacing:1},r.a.createElement(v.a,{item:!0},r.a.createElement(_.a,{color:"disabled"})),r.a.createElement(v.a,{item:!0},r.a.createElement(F.a,{variant:"h6"},t)))),r.a.createElement(v.a,{item:!0},r.a.createElement(F.a,{variant:"subtitle2",color:"textSecondary"},(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))))},B=function(e){var t=e.location,a=k("".concat(y,"?lat=").concat(t.latitude,"&lon=").concat(t.longitude,"&units=imperial&appId=").concat(j),t),n=Object(l.a)(a,3),c=n[0],i=n[1],o=n[2];return c?r.a.createElement(g.a,{color:"secondary"}):o?r.a.createElement(s,{errorMessage:"Unable to get weather data. Please try again after sometime"}):r.a.createElement(b.a,{m:2},r.a.createElement(v.a,{item:!0,xs:12,sm:5,md:4,lg:3},i&&r.a.createElement(w.a,{elevation:3},r.a.createElement(b.a,{p:2},r.a.createElement(v.a,{container:!0,direction:"column",spacing:1},r.a.createElement(W,{city:i.name}),r.a.createElement(v.a,{item:!0,container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1},r.a.createElement(L,{temp:i.main.temp,condition:i.weather[0].main,feelsLike:i.main.feels_like,icon:i.weather[0].icon,date:i.dt_txt})),r.a.createElement(v.a,{item:!0},r.a.createElement(C,null)))))))},D=function(e){var t=e.location,a=k("".concat(O,"?lat=").concat(t.latitude,"&lon=").concat(t.longitude,"&units=imperial&appId=").concat(j),t),n=Object(l.a)(a,3),c=n[0],i=n[1],o=n[2];return c?r.a.createElement(g.a,{color:"secondary"}):o?r.a.createElement(s,{errorMessage:"Unable to get weather data. Please try again after sometime"}):r.a.createElement(b.a,{m:2},i&&r.a.createElement(w.a,{elevation:3},r.a.createElement(b.a,{p:2},r.a.createElement(v.a,{container:!0,direction:"column",spacing:2},r.a.createElement(W,{city:i.city.name}),r.a.createElement(v.a,{item:!0,container:!0,justify:"space-around"},i.list.filter((function(e,t){return t%8===0})).map((function(e){return r.a.createElement(v.a,{item:!0,container:!0,direction:"column",alignItems:"center",spacing:1,xs:6,md:2,key:e.dt},r.a.createElement(L,{temp:e.main.temp,condition:e.weather[0].main,feelsLike:e.main.feels_like,icon:e.weather[0].icon,date:e.dt_txt}))}))),r.a.createElement(v.a,{item:!0},r.a.createElement(C,null))))))},J=function(e){var t=e.location,a=Object(n.useState)(!1),c=Object(l.a)(a,2),i=c[0],o=c[1];return r.a.createElement("div",{className:"main"},r.a.createElement(M.Provider,{value:{isMetric:i,setIsMetric:o}},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/weather"},r.a.createElement(B,{location:t})),r.a.createElement(h.b,{exact:!0,path:"/forecast"},r.a.createElement(D,{location:t})),r.a.createElement(h.a,{to:"/weather"}))))},N=function(){var e=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t={latitude:e.coords.latitude,longitude:e.coords.longitude};r(t)}))}),[]),a}();return e?r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(o.a,null,r.a.createElement(f,null),r.a.createElement(J,{location:e}))):r.a.createElement(s,{errorMessage:"Please enable location and try again"})};var T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.d83cb1d0.chunk.js.map