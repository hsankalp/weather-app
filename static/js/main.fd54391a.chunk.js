(this["webpackJsonpmy-weather-app"]=this["webpackJsonpmy-weather-app"]||[]).push([[0],{60:function(e,t,a){e.exports=a(72)},65:function(e,t,a){},66:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a.n(c),o=(a(65),a(66),a(32)),l=a(13),m=a(99),u=a(103),s=function(e){var t=e.errorMessage;return r.a.createElement(m.a,{raised:!0},r.a.createElement(u.a,{subheader:t}))},E=a(104),d=a(112),f=a(105),p=function(){return r.a.createElement(E.a,{position:"static"},r.a.createElement(d.a,{value:!1},r.a.createElement(f.a,{label:"Weather",component:o.b,to:"/weather"}),r.a.createElement(f.a,{label:"Forecast",component:o.b,to:"/forecast"})))},h=a(24),g=a(108),b=a(111),v=a(107),w=a(50),j="95c3dbda29852d8d2d2de3dec7b3d340",y="https://api.openweathermap.org/data/2.5/weather",O="https://api.openweathermap.org/data/2.5/forecast",x="https://openweathermap.org/img/wn",C=function(e,t){var a=Object(n.useState)(!1),r=Object(l.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(),m=Object(l.a)(o,2),u=m[0],s=m[1],E=Object(n.useState)(),d=Object(l.a)(E,2),f=d[0],p=d[1];return Object(n.useEffect)((function(){i(!0),fetch(e).then((function(e){if(i(!1),!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return s(e)})).catch((function(e){return p(e)}))}),[e,t]),[c,u,f]},k=Object(n.createContext)(null),S=a(106),M=function(){var e=Object(n.useContext)(k),t=e.isMetric,a=e.setIsMetric;return r.a.createElement(S.a,{variant:"outlined",color:"secondary",onClick:function(){return a(!t)}},t?"Fahrenheit":"Celsius")},I=a(38),F=function(e,t){return t?Math.round(P(e))+"\xb0C":Math.round(e)+"\xb0F"},P=function(e){return 5/9*(e-32)},L=function(e){var t=Object(n.useContext)(k).isMetric;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{item:!0},r.a.createElement(I.a,{variant:"subtitle2"},e.date&&new Date(e.date).toString().slice(0,10))),r.a.createElement(v.a,{item:!0},r.a.createElement(I.a,{variant:"h4"},F(e.temp,t))),r.a.createElement(v.a,{item:!0},r.a.createElement(I.a,{variant:"subtitle1",color:"textSecondary"},"Real Feel: ",F(e.feelsLike,t))),r.a.createElement(v.a,{item:!0},r.a.createElement(I.a,{variant:"subtitle2",color:"textSecondary"},e.condition)),r.a.createElement(v.a,{item:!0},r.a.createElement("img",{src:"".concat(x,"/").concat(e.icon,"@2x.png"),alt:"weather-icon"})))},W=a(109),_=function(){var e=Object(n.useRef)(),t=Object(n.useContext)(k).setCity;return r.a.createElement(v.a,{item:!0,xs:12,sm:7,md:4,lg:3},r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),t(e.current.value),e.current.value=null}},r.a.createElement(W.a,{label:"City",variant:"outlined",fullWidth:!0,inputRef:e})))},B=a(113),D=function(e){var t=e.city;return r.a.createElement(v.a,{item:!0},r.a.createElement(v.a,{container:!0,spacing:1},r.a.createElement(v.a,{item:!0},r.a.createElement(B.a,{color:"disabled"})),r.a.createElement(v.a,{item:!0},r.a.createElement(I.a,{variant:"h6",gutterBottom:!0},t),r.a.createElement(I.a,{variant:"subtitle2",color:"textSecondary"},(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))))},R=function(e,t){return e?"q=".concat(e):"lat=".concat(t.latitude,"&lon=").concat(t.longitude)},J=function(e){var t=e.location,a=Object(n.useContext)(k).city,c=C("".concat(y,"?").concat(R(a,t),"&units=imperial&appId=").concat(j),t),i=Object(l.a)(c,3),o=i[0],m=i[1],u=i[2];return o?r.a.createElement(g.a,{color:"secondary"}):u?r.a.createElement(s,{errorMessage:"Unable to get weather data. Please try again after sometime"}):r.a.createElement(b.a,{m:2},r.a.createElement(v.a,{container:!0,direction:"column",spacing:2},r.a.createElement(_,null),r.a.createElement(v.a,{item:!0,xs:12,sm:7,md:4,lg:3},m&&r.a.createElement(w.a,{elevation:3},r.a.createElement(b.a,{p:2},r.a.createElement(v.a,{container:!0,direction:"column",spacing:1},r.a.createElement(D,{city:m.name}),r.a.createElement(v.a,{item:!0,container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1},r.a.createElement(L,{temp:m.main.temp,condition:m.weather[0].main,feelsLike:m.main.feels_like,icon:m.weather[0].icon,date:m.dt_txt})),r.a.createElement(v.a,{item:!0},r.a.createElement(M,null))))))))},T=function(e){var t=e.location,a=Object(n.useContext)(k).city,c=C("".concat(O,"?").concat(R(a,t),"&units=imperial&appId=").concat(j),t),i=Object(l.a)(c,3),o=i[0],m=i[1],u=i[2];return o?r.a.createElement(g.a,{color:"secondary"}):u?r.a.createElement(s,{errorMessage:"Unable to get weather data. Please try again after sometime"}):r.a.createElement(b.a,{m:2},r.a.createElement(v.a,{container:!0,direction:"column",spacing:2},r.a.createElement(_,null),r.a.createElement(v.a,{item:!0},m&&r.a.createElement(w.a,{elevation:3},r.a.createElement(b.a,{p:2},r.a.createElement(v.a,{container:!0,direction:"column",spacing:2},r.a.createElement(D,{city:m.city.name}),r.a.createElement(v.a,{item:!0,container:!0,justify:"space-around"},m.list.filter((function(e,t){return t%8===0})).map((function(e){return r.a.createElement(v.a,{item:!0,container:!0,direction:"column",alignItems:"center",spacing:1,xs:6,md:2,key:e.dt},r.a.createElement(L,{temp:e.main.temp,condition:e.weather[0].main,feelsLike:e.main.feels_like,icon:e.weather[0].icon,date:e.dt_txt}))}))),r.a.createElement(v.a,{item:!0},r.a.createElement(M,null))))))))},U=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(l.a)(a,2),i=c[0],o=c[1],m=Object(n.useState)(),u=Object(l.a)(m,2),s=u[0],E=u[1];return r.a.createElement(k.Provider,{value:{isMetric:i,setIsMetric:o,city:s,setCity:E}},t)},q=function(e){var t=e.location;return r.a.createElement(U,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/weather"},r.a.createElement(J,{location:t})),r.a.createElement(h.b,{exact:!0,path:"/forecast"},r.a.createElement(T,{location:t})),r.a.createElement(h.a,{to:"/weather"})))},$=function(){var e=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t={latitude:e.coords.latitude,longitude:e.coords.longitude};r(t)}))}),[]),a}();return e?r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(o.a,null,r.a.createElement(p,null),r.a.createElement(q,{location:e}))):r.a.createElement(s,{errorMessage:"Please enable location and try again"})};var z=function(){return r.a.createElement($,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,1,2]]]);
//# sourceMappingURL=main.fd54391a.chunk.js.map