(this["webpackJsonpmy-weather-app"]=this["webpackJsonpmy-weather-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(43)},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),o=a.n(r),i=(a(36),a(37),a(10)),l=a(63),u=a(65),m=a(64),s=a(60),d=a(58),f=a(61),h="95c3dbda29852d8d2d2de3dec7b3d340",p="https://api.openweathermap.org/data/2.5/weather",E="https://api.openweathermap.org/data/2.5/forecast",g="https://openweathermap.org/img/wn";a(38);var b=function(){return c.a.createElement(d.a,{subheader:"Loading..."})},w=function(){return c.a.createElement(d.a,{subheader:"Unable to fetch weather data. Please try after sometime"})},v=function(e){var t=e.location,a=Object(n.useState)(),r=Object(i.a)(a,2),o=r[0],l=r[1],u=Object(n.useState)(),m=Object(i.a)(u,2),E=m[0],v=m[1];Object(n.useEffect)((function(){console.log("Fetching weather data for ",t),function(e){return fetch("".concat(p,"?lat=").concat(e.latitude,"&lon=").concat(e.longitude,"&units=imperial&appId=").concat(h)).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}(t).then((function(e){return l(e)})).catch((function(e){return v(e)}))}),[t]);return c.a.createElement(s.a,{raised:!0,className:"weather-app-card"},o&&c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{title:o.main.temp+"\xb0F",subheader:o.name+" "+(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),c.a.createElement(f.a,null,c.a.createElement("img",{src:"".concat(g,"/").concat(o.weather[0].icon,"@2x.png"),alt:"weather-icon"}))),E&&c.a.createElement(w,null),!E&&!o&&c.a.createElement(b,null))},j=a(62),y=a(18),O=function(e){var t=e.date,a=e.min,n=e.max,r=e.icon;return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{variant:"body2",color:"textSecondary"},new Date(t).toString().slice(0,10)),c.a.createElement("img",{src:"".concat(g,"/").concat(r,"@2x.png"),alt:"weather-icon"}),c.a.createElement(y.a,{variant:"body2",color:"textPrimary"},"Max: ",n+"\xb0F"),c.a.createElement(y.a,{variant:"body2",color:"textSecondary"},"Min: ",a+"\xb0F"))};a(42);var x=function(e){var t=e.location,a=Object(n.useState)(),r=Object(i.a)(a,2),o=r[0],l=r[1],u=Object(n.useState)(),m=Object(i.a)(u,2),p=m[0],g=m[1];return Object(n.useEffect)((function(){console.log("Fetching forecast data for ",t),function(e){return fetch("".concat(E,"?lat=").concat(e.latitude,"&lon=").concat(e.longitude,"&units=imperial&appId=").concat(h)).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}(t).then((function(e){return l(e)})).catch((function(e){return g(e)}))}),[t]),c.a.createElement(s.a,{raised:!0,className:"forecast-app-card"},o&&c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{title:o.city.name,subheader:"5 Day Forecast"}),c.a.createElement(f.a,null,c.a.createElement(j.a,{container:!0,justify:"center",spacing:4},o.list.filter((function(e,t){return t%8===0})).map((function(e){return c.a.createElement(j.a,{key:e.dt,item:!0,className:"daily-forecast-grid-item"},c.a.createElement(O,{date:e.dt_txt,min:e.main.temp_min,max:e.main.temp_max,icon:e.weather[0].icon}))}))))),p&&c.a.createElement(w,null),!p&&!o&&c.a.createElement(b,null))},F=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(),f=Object(i.a)(o,2),h=f[0],p=f[1];Object(n.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t={latitude:e.coords.latitude,longitude:e.coords.longitude};p(t)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,{position:"static"},c.a.createElement(u.a,{value:a,onChange:function(e,t){r(t)}},c.a.createElement(m.a,{label:"Weather"}),c.a.createElement(m.a,{label:"5 Day Forecast"}))),0===a&&h&&c.a.createElement(v,{location:h}),1===a&&h&&c.a.createElement(x,{location:h}),!h&&c.a.createElement(s.a,{raised:!0},c.a.createElement(d.a,{subheader:"Please enable location"})))};var S=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.446d6ddc.chunk.js.map